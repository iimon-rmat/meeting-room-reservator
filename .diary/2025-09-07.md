# 2025-09-07

## Todo

- [bulletproof-react の何がいいのか改めて調べる](##bulletproof-reactの何がいいのか改めて調べる)

- [x] bulletploof-react に vite を取り入れて動かしてみる  
       そもそも入ってましたというオチ
- [x] AI に吐かせたものを参考にビルド周りを確認する

## bulletproof-react の何がいいのか改めて調べる

### そもそも bulletproof-react って何？

多層アーキテクチャとのこと。  
バックエンド寄りの構成なので直感でわかりやすいアーキテクチャらしい。  
……ほんまか？

### いったん展開してみる

`src/`配下を見てみる。  
ついでに Copilot に和訳させてみる。

```
src
|
+-- app               # アプリケーション層を含むディレクトリ：
|   |                 # 使用するメタフレームワークによってこのフォルダ構成は異なる場合があります
|   +-- routes        # アプリケーションのルート / またはページ
|   +-- app.tsx       # メインのアプリケーションコンポーネント
|   +-- provider.tsx  # アプリケーション全体を異なるグローバルプロバイダーでラップするプロバイダー - メタフレームワークによって異なる場合があります
|   +-- router.tsx    # アプリケーションのルーター設定
+-- assets            # 静的ファイル（画像、フォントなど）を含むアセットフォルダ
|
+-- components        # アプリケーション全体で使用される共有コンポーネント
|
+-- config            # グローバル設定、エクスポートされた環境変数など
|
+-- features          # 機能ベースのモジュール
|
+-- hooks             # アプリケーション全体で使用される共有フック
|
+-- lib               # アプリケーション用に事前設定された再利用可能なライブラリ
|
+-- stores            # グローバル状態管理ストア
|
+-- testing           # テストユーティリティとモック
|
+-- types             # アプリケーション全体で使用される共有型
|
+-- utils             # 共有ユーティリティ関数
```

コードの大半を features フォルダ内に配置するのが推奨されている。  
-> スケーラビリティとメンテナンス容易性のため

**機能固有のコードを分離することが肝要**

### features の構成

**特定の機能**に分離するのがここの役割

```
src/features/awesome-feature
|
+-- api         # 特定の機能に関連する API リクエストの宣言と API フックをエクスポート
|
+-- assets      # 特定の機能に関連するすべての静的ファイルを含むアセットフォルダ
|
+-- components  # 特定の機能にスコープされたコンポーネント
|
+-- hooks       # 特定の機能にスコープされたフック
|
+-- stores      # 特定の機能に関連する状態管理ストア
|
+-- types       # 機能内で使用される TypeScript 型
|
+-- utils       # 特定の機能に関連するユーティリティ関数
```

### ひとまず見てみた感想

確かにぱっと見ですっきりした印象を受けた。  
この構成をプロダクトに当てはめた時の納得感がすんごい

現行のプロジェクトに当てはめると、、、

- ビルド先が 2 つあるので、app は並行して置いとく。  
   これ自体は一緒な気がする。
- サービスごとに`src/features/`に分けておく。
  - Firebase 関連  
    上二つとは毛色が違うので独立させるとか?
  - 別サービス使うために埋め込まれたもの  
    ここで分離するのがすっきりして良さそう
- `app/`では`features/`および`lib/`などを読み込んで使うだけにするとシンプルにまとまりそう

## 参考資料

- https://github.com/alan2207/bulletproof-react
- [Bulletproof-react ディレクトリ構成編](https://zenn.dev/ukkyon/articles/03893da1dbf825)
