# 2025-09-06

## Todo

他に興味が出てきたものがあったので、そちらを優先。

- [node.js のバージョンの選び方](##node.jsのバージョンの選び方)
- [eslint.config.ts について](##eslint.config.tsについて)

- [x] bulletproof-react の何がいいのか改めて調べる
- [x] bulletploof-react に vite を取り入れて動かしてみる
- [x] AI に吐かせたものを参考にビルド周りを確認する

## node.js のバージョンの選び方

なんとなくでしか理解していなかったので改めて[公式サイト](https://nodejs.org/ja/about/previous-releases)の見方について復習

### ライフサイクル

CURRENT -> ACTIVE -> MAINTENANCE -> EOL の順で、各バージョンは一生を遂げる。  
サイクルとしては、おおよそ 36 ヶ月。  
なので、3 年に 1 回は見直した方が良い。

- CURRENT

  - リリースされてから最初の 6 ヶ月間、このフェースとして扱われる。
  - 新機能や改善が追加される、文字通り最新版。
  - 色々試すのには良いが、プロダクトとしてリリースする際には慎重に選ぶ必要がある。

- ACTIVE（LTS）

  - CURRENT フェーズ終了後、約 18 ヶ月間、このフェーズが続く。
  - 新機能・バグ修正・安定性が確認された更新が行われる。
  - プロダクトとして導入するのに最適。

- MAINTENANCE

  - ACTIVE フェーズ終了後、12 ヶ月間、このフェーズが続く。
  - 重大なバグ修正やセキュリティ更新が行われる。
  - 基本的に新機能は追加されないが、後続のバージョンへの移行サポートのために新機能が追加されることもある。  
    -> いわゆる移行の猶予期間
  - 安定性が求められる環境での使用に最適。

- EOL

  - 文字通りサポート終了なので、移行する必要性がある。

### 結局どれを使えばいいの問題

結論、状況によりけりではあるものの、本プロジェクトでは 22 系を使用。

- 理由
  - ACTIVE フェーズでありつつ、10 月に MAINTENANCE フェーズに入るので、安定して使える。
  - CURRENT フェーズと ACTIVE フェーズの間にある 24 系でも良いが、安定して完成を目指すには冒険しすぎない方が良いと判断。

選定時の判断基準について

1. 使いたい機能や、アプリのフェーズによって選択する
   - どうしても使いたい機能がない限りは避けるのが吉
   - 基本的には ACTIVE 以降のものを採用する
2. 依存関係を考慮する
   - 最新のものに飛びついてもパッケージ自体がついて規定な場合がある

## eslint.config.ts について

`npm create app -- --template react-ts`で早速、雛形を作成してみたが、その中で、1 つだけ`.js`形式のファイルがあった。  
それが、`eslint.config.ts`。

`.eslintrc`による設定が非推奨となったため、FlatConfig である eslint.config.js になったとのこと。

ただ、TS 使っているのに.js ってどうなの？？.ts にできないの？と気になったので調査。

### 結論

単純に.ts に拡張子を変えるだけでおｋ。

というのも、今回使用している v22.19.0 では TypeScript ファイルの実行がサポートされているとのこと。

ちなみに v22.10.0 以前であれば、ラインタイムの jiti が必要だったらしい。

## 参考資料

- [Node.js のリリースサイクルを理解し、最適なバージョンを選択する方法](https://dev.classmethod.jp/articles/nodejs-release-choice/)
- [ESLint で TypeScript ベースの設定ファイル（`eslint.config.ts`）を使えるようになった](https://roboin.io/article/2024/08/13/eslint-now-supports-typescript-based-config-files/)
- [jiti](https://www.npmjs.com/package/jiti)
